SET SERVEROUTPUT ON;

CREATE TABLE HOBBIES(ID_HOBBIES INTEGER PRIMARY KEY, HOBBIE VARCHAR2(30));
CREATE TABLE DIRECCION(ID_DIRECCION INTEGER PRIMARY KEY, CALLE VARCHAR2(50), CP INTEGER, MUNICIPIO VARCHAR2(30), ESTADO VARCHAR2(50));
CREATE TABLE USUARIO(ID_USUARIO INTEGER PRIMARY KEY, NOMBRE VARCHAR2(30), LOGIN VARCHAR2(30), PASSWORD VARCHAR2(30), E_MAIL VARCHAR2(50), ID_DIRECCION INTEGER, ID_HOBBIES INTEGER, CONSTRAINT FK1_ID_DIRECCION FOREIGN KEY (ID_DIRECCION) REFERENCES DIRECCION (ID_DIRECCION), CONSTRAINT FK_ID_HOBBIES FOREIGN KEY (ID_HOBBIES) REFERENCES HOBBIES (ID_HOBBIES));

CREATE SEQUENCE SEC_HOBBIES
              START WITH 1
              INCREMENT BY 1
              NOMAXVALUE;
              
CREATE SEQUENCE SEC_DIRECCION
              START WITH 1
              INCREMENT BY 1
              NOMAXVALUE;
              
CREATE SEQUENCE SEC_USUARIO
              START WITH 1
              INCREMENT BY 1
              NOMAXVALUE;
              
CREATE OR REPLACE PROCEDURE GUARDAR_HOBBIES(MY_ID_HOBBIES IN  INTEGER, MY_HOBBIE  IN VARCHAR) 
              AS
              BEGIN
              SELECT SEC_HOBBIES.NEXTVAL INTO MY_ID_HOBBIES FROM DUAL;
              INSERT INTO HOBBIES VALUES (MY_ID_HOBBIES, MY_HOBBIE);
              END;          
              /
              
CREATE OR REPLACE PROCEDURE GUARDAR_DIRECCION(MY_ID_DIRECCION IN  INTEGER, MY_CALLE IN VARCHAR2,MY_CP IN INTEGER,MY_MUNICIPIO IN VARCHAR2, MY_ESTADO IN VARCHAR2) 
              AS
              BEGIN
              SELECT SEC_GUARDAR.NEXTVAL INTO MY_ID_DIRECCION FROM DUAL;
              INSERT INTO DIRECCION VALUES (MY_ID_DIRECCION, MY_CALLE, MY_CP, MY_MUNICIPIO, MY_ESTADO );
              END;          
              /      
              
              
CREATE OR REPLACE PROCEDURE GUARDAR_USUARIO(MY_ID_USUARIO IN  INTEGER, MY_NOMBRE IN VARCHAR2,MY_LOGIN IN VARCHAR2,MY_E_MAIL IN VARCHAR2, MY_ID_DIRECCION IN INTEGER, MY_ID_HOBBIES IN INTEGER) 
              AS
              BEGIN
              SELECT SEC_USUARIO.NEXTVAL INTO MY_ID_USUARIO FROM DUAL;
              INSERT INTO USUARIO VALUES (MY_ID_USUARIO,MY_NOMBRE, MY_LOGIN, MY_E_MAIL , MY_ID_DIRECCION , MY_ID_HOBBIES );
              END;          
              /                 
              
